<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="connect-streams-min-2.0.0.js"></script>
  </head>
  <body onLoad="init()">
    <main>
        <div id="container-div" style="width: 800px; height: 800px;"></div>
    </main>
      <script type="text/javascript">
        var containerDiv = document.getElementById("container-div");
        var contacts = [];
        function init() {
          const connectUrl = "https://localhost:3000/connect-gamma";
          connect.core.initCCP(
              containerDiv, 
              {
                ccpUrl: connectUrl + "/ccp-v2",
                loginPopup: false,
                softphone: {
                  allowFramedSoftphone: true
                },
                pageOptions: { //optional
                  enableAudioDeviceSettings: true, //optional, defaults to 'false'
                  enablePhoneTypeSettings: true //optional, defaults to 'true' 
                },
                
              }
          );

          connect.contact(function(c) {
            contacts = [];
            contacts.push(c);
          })
        }
        function printContacts() {
          console.log(contacts.length);
          console.log(contacts);
        }
      </script>
  </body>
</html>